
@{
    ViewBag.Title = "Register";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Register</h2>


<form id="form1" runat="server">
    <div>
        <h4 style="font-size: medium">Register a new user</h4>
        <hr />
        <p>
            <asp:Literal runat="server" ID="StatusMessage" />
        </p>
        <div style="margin-bottom:10px">
            <label runat="server" AssociatedControlID="UserName">User name</label>
            <div>
                <input type="text" name="Username" id="Username" />
                @*<text runat="server" ID="UserName"></text>*@
            </div>
        </div>
        <div style="margin-bottom:10px">
            <label runat="server" AssociatedControlID="Password">Password</label>
            <div>
                <input type="text" name="Password" id="Password" />
                @*<asp:TextBox runat="server" ID="Password" TextMode="Password" />*@
            </div>
        </div>
        <div style="margin-bottom:10px">
            <Label runat="server" AssociatedControlID="ConfirmPassword">Confirm password</Label>
            <div>
                <input type="text" name="ConfirmPassword" id="ConfirmPassword" />
               @*<asp:TextBox runat="server" ID="ConfirmPassword" TextMode="Password" />*@
            </div>
        </div>
        <div>
            <div>
                <button type="button" class="btn btn-success" onclick="Register" id="btnRegister">Register</button> 
            </div>
        </div>
    </div>
</form>



<script>
    $(document).ready(function () {
        $("#btnRegister").click(function () {
            Register();
        })
    })



    function Register() {
        var username = $("#Username").val();
        var password = $("#Password").val();
        $.ajax({
            type: "POST",
            url: "/home/CreateUser_Click",
            data: { username: username, password: password },
            success: function (data) {
                //call view to index
                alert('it somewhat works');
            },
            error: function () {
                alert('broken');
            }
        })
    }
</script>
